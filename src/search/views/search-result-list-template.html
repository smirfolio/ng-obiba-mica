<!--
  ~ Copyright (c) 2018 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div ng-show="display === 'list'" class="list-table">
    <result-tabs-order-count
            options="options"
            result-tabs-order="resultTabsOrder"
            active-target="activeTarget"
            target-type-map="targetTypeMap">
    </result-tabs-order-count>
    <div class="voffset2" ng-class="{'pull-right': options.studies.showSearchTab, 'pull-left': !options.studies.showSearchTab, 'hoffset2': !options.studies.showSearchTab}">
        <a obiba-file-download url="getStudySpecificReportUrl()" target="_self" ng-if="type=='studies'" download class="btn btn-info" href>
            <i class="fa fa-download"></i> {{'report-group.study.button-name' | translate}}
        </a>
        <a obiba-file-download url="getReportUrl()" target="_self" download class="btn btn-info" href>
            <i class="fa fa-download"></i> {{'download' | translate}}
        </a>
    </div>
    <div class="clearfix" ng-if="options.studies.showSearchTab"/>
    <div class="tab-content">
        <div class="pull-left" study-filter-shortcut ng-if="options.studies.showSearchTab && options.studies.studiesColumn.showStudiesTypeColumn"></div>
        <div ng-repeat="res in resultTabsOrder" ng-show="activeTarget[targetTypeMap[res]].active" class="pull-right voffset2" test-ref="pager">
          <span search-result-pagination
                target="activeTarget[targetTypeMap[res]].name"
                total-hits="activeTarget[targetTypeMap[res]].totalHits"
                on-change="onPaginate"></span>
        </div>
        <div class="clearfix"/>
        <ng-include include-replace ng-repeat="res in resultTabsOrder"
                    src="'search/views/search-result-list-' + res + '-template.html'"></ng-include>
    </div>
</div>
