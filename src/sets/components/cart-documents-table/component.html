<div>
  <div class="pull-left" ng-show="$ctrl.documents.total>0">
    <div ng-if="$ctrl.showAnalysis()" class="btn-group" uib-dropdown is-open="$ctrl.analysis.isopen">
      <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
        <i class="fa fa-cog"></i> {{'analysis.action' | translate}} <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
        <li role="menuitem">
          <a href="" ng-click="$ctrl.entitiesCount()">
            {{'analysis.entities-count.action' | translate}}</a>
        </li>
      </ul>
    </div>
    <a obiba-file-download url="$ctrl.download()" target="_self" download class="action btn btn-info btn-responsive">
      <i class="fa fa-download"></i></a>
    <a href="" ng-click="$ctrl.search()" class="action btn btn-info btn-responsive">
      <i class="fa fa-search"></i></a>
    <a href="" ng-click="$ctrl.clearSet()" ng-disabled="!$ctrl.hasSelections()" class="action btn btn-danger btn-responsive">
      <i class="fa fa-trash-o"></i></a>
  </div>
  <div ng-show="$ctrl.pagination.totalHits > 0" class="pull-right">
    <span
          uib-pagination
          total-items="$ctrl.pagination.totalHits"
          max-size="$ctrl.pagination.maxSize"
          ng-model="$ctrl.pagination.currentPage"
          boundary-links="true"
          force-ellipses="true"
          items-per-page="$ctrl.pagination.itemsPerPage"
          previous-text="&lsaquo;"
          next-text="&rsaquo;"
          first-text="&laquo;"
          last-text="&raquo;"
          template-url="search/views/list/pagination-template.html"
          ng-change="$ctrl.pageChanged()"></span>
    <ul class="pagination pagination-sm">
      <li>
        <a href class="pagination-total">{{$ctrl.pagination.from}} - {{$ctrl.pagination.to}} {{'of' | translate}} {{$ctrl.pagination.totalHits}}</a>
      </li>
    </ul>
  </div>
  <div class="clearfix"></div>
  <div class="table-responsive">
    <div class="alert alert-warning actions-select" ng-show="$ctrl.allPageSelected[$ctrl.pagination.currentPage]">
      <span ng-hide="$ctrl.allSelected">
        <span translate>sets.cart.all-cart-page-selected</span> 
        <a href ng-click="$ctrl.updateAllSelected()" class="hoffset2">
          <i class="fa fa-square-o"></i>
          <b><span translate>sets.cart.select-all-cart</span></b>
        </a>
      </span>
      <span ng-show="$ctrl.allSelected">
        <span translate>sets.cart.all-cart-selected</span>
        <a href ng-click="$ctrl.updateAllSelected()" class="hoffset2">
          <i class="fa fa-check-square-o"></i>
          <b><span translate>sets.cart.unselect-all-cart</span></b>
        </a>
      </span>
    </div>
    <table class="table table-bordered table-striped" ng-if="$ctrl.documents.total>0">
      <thead>
        <th style="width: 50px">
            <input 
            ng-model="$ctrl.allPageSelected[$ctrl.pagination.currentPage]"
            type="checkbox"
            ng-click="$ctrl.updateAllCurrentPageSelected()"/>
        </th>
        <th translate>taxonomy.target.variable</th>
        <th translate>search.variable.label</th>
        <th ng-if="$ctrl.showVariableType()" translate>type</th>
        <th ng-if="$ctrl.showStudies()" translate>taxonomy.target.study</th>
        <th translate>taxonomy.target.dataset</th>
      </thead>
      <tbody>
        <tr ng-repeat="row in $ctrl.table.rows">
          <td>
              <input 
              ng-model="$ctrl.selections[row[0].value]"
              type="checkbox"
              ng-click="$ctrl.updateSelection(row[0].value)"/>
          </td>
          <td><a href="{{row[1].link}}">{{row[1].value}}</a></td>
          <td>{{row[2].value}}</td>
          <td ng-if="$ctrl.showVariableType()">{{'search.variable.' + row[3].value.toLowerCase() | translate}}</td>
          <td ng-if="$ctrl.showStudies()"><a href="{{row[3].link}}">{{row[4].value}}</a></td>
          <td><a href="{{row[5].link}}">{{row[5].value}}</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>